{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import'./styles/index.css';import API_BASE_URL from\"./config\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TrentoCleanCity(){const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){navigate(\"/login\");}},[navigate]);const DownloadDisposizioni=async e=>{e.preventDefault();try{const token=localStorage.getItem(\"token\");const response=await fetch(API_BASE_URL+\"/api/rifiuti/disposizioni/\",{method:\"GET\",headers:{\"access-token\":token}});if(response.ok){const contentDisposition=response.headers.get('Content-Disposition');const filename=contentDisposition&&contentDisposition.split('filename=')[1];const blob=await response.blob();const link=document.createElement(\"a\");link.href=window.URL.createObjectURL(blob);link.download=filename||\"disposzione.pdf\";link.click();}else{const errorData=await response.json();alert(errorData.error||\"Errore durante il download del calendario.\");}}catch(error){alert(\"Errore durante il download.\");console.error(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fade-in\",children:\"Trento Clean City\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Making Trento greener, cleaner, and better.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:()=>navigate('/mappa'),children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/128/17938/17938494.png\",alt:\"Segnalazioni\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Segnalazioni\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:()=>navigate('/prenotazioni'),children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/512/2921/2921222.png\",alt:\"Prenotazioni\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Prenotazioni\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:()=>navigate('/calendariutente'),children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/128/3634/3634595.png\",alt:\"Informazioni Raccolta\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Calendari\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:e=>DownloadDisposizioni(e),children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/128/14601/14601199.png\",alt:\"Informazioni Raccolta\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Disposizioni\"})]})]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2025 Trento Clean City. All rights reserved.\"})]});}export default TrentoCleanCity;","map":{"version":3,"names":["React","useEffect","useNavigate","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","TrentoCleanCity","navigate","token","localStorage","getItem","DownloadDisposizioni","e","preventDefault","response","fetch","method","headers","ok","contentDisposition","get","filename","split","blob","link","document","createElement","href","window","URL","createObjectURL","download","click","errorData","json","alert","error","console","className","children","onClick","src","alt"],"sources":["/root/UNIVERSITA/Webapp-comune-di-Trento/app-react/src/Menu.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './styles/index.css';\r\nimport API_BASE_URL from \"./config\";\r\n\r\n\r\nfunction TrentoCleanCity() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [navigate]);\r\n\r\n\r\n  const DownloadDisposizioni = async (e) => {\r\n    e.preventDefault(); \r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      const response = await fetch(API_BASE_URL + \"/api/rifiuti/disposizioni/\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"access-token\": token,\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const contentDisposition = response.headers.get('Content-Disposition');\r\n        const filename = contentDisposition && contentDisposition.split('filename=')[1];\r\n\r\n        const blob = await response.blob();\r\n        const link = document.createElement(\"a\");\r\n        link.href = window.URL.createObjectURL(blob);\r\n        link.download = filename || \"disposzione.pdf\"; \r\n        link.click();\r\n      } else {\r\n        const errorData = await response.json();\r\n        alert(errorData.error || \"Errore durante il download del calendario.\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"Errore durante il download.\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"fade-in\">Trento Clean City</h1>\r\n      <p>Making Trento greener, cleaner, and better.</p>\r\n\r\n      <div className=\"card-container\"> \r\n        <div className=\"card\" onClick={() => navigate('/mappa')}>\r\n          <img src=\"https://cdn-icons-png.flaticon.com/128/17938/17938494.png\" alt=\"Segnalazioni\" />\r\n          <h2>Segnalazioni</h2>\r\n        </div>\r\n        <div className=\"card\" onClick={() => navigate('/prenotazioni')}>\r\n          <img src=\"https://cdn-icons-png.flaticon.com/512/2921/2921222.png\" alt=\"Prenotazioni\" />\r\n          <h2>Prenotazioni</h2>\r\n        </div>\r\n        <div className=\"card\" onClick={() => navigate('/calendariutente')}>\r\n          <img src=\"https://cdn-icons-png.flaticon.com/128/3634/3634595.png\" alt=\"Informazioni Raccolta\" />\r\n          <h2>Calendari</h2>\r\n        </div>\r\n        <div className=\"card\" onClick={(e) => DownloadDisposizioni(e)}>\r\n          <img src=\"https://cdn-icons-png.flaticon.com/128/14601/14601199.png\" alt=\"Informazioni Raccolta\" />\r\n          <h2>Disposizioni</h2>\r\n        </div>\r\n      </div> \r\n\r\n      <p>&copy; 2025 Trento Clean City. All rights reserved.</p>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrentoCleanCity;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}