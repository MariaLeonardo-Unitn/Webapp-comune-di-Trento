{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import L from'leaflet';import'leaflet/dist/leaflet.css';import'./styles/Homepage.css';import markerIcon from'leaflet/dist/images/marker-icon.png';import markerIconShadow from'leaflet/dist/images/marker-shadow.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DefaultIcon=L.icon({iconUrl:markerIcon,shadowUrl:markerIconShadow,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});L.Marker.prototype.options.icon=DefaultIcon;function Homepage(){const navigate=useNavigate();const[showLanguageDropdown,setShowLanguageDropdown]=useState(false);useEffect(()=>{const map=L.map('map').setView([46.0667,11.1333],12);L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'© OpenStreetMap contributors'}).addTo(map);const centriDiRaccolta=[{nome:\"Argentario\",coord:[46.0897,11.1212],indirizzo:\"Via Pradiscola, 22\"},{nome:\"Mattarello\",coord:[46.0023,11.1361],indirizzo:\"Via della Gotarda\"},{nome:\"Meano\",coord:[46.1112,11.1556],indirizzo:\"Via Bellaria, 44/B\"},{nome:\"Povo\",coord:[46.0605,11.1508],indirizzo:\"Via Castel di Pietrapiana, 8\"},{nome:\"Sopramonte\",coord:[46.0811,11.0974],indirizzo:\"Via Strada di Campedél\"}];centriDiRaccolta.forEach(centro=>{L.marker(centro.coord).addTo(map).bindPopup(`<b>Centro di Raccolta</b><br><b>${centro.nome}</b><br>${centro.indirizzo}`);});map.on('click',function(e){const button=document.createElement('button');button.textContent='Segnala';button.style.cursor='pointer';button.addEventListener('click',()=>{navigate('/segnalazionianonime',{state:{coordinates:e.latlng}});});const container=document.createElement('div');container.appendChild(button);L.popup().setLatLng(e.latlng).setContent(container).openOn(map);});return()=>{map.remove();};},[navigate]);const handleVerdeClick=()=>{navigate('/register');};const handleLanguageClick=()=>{setShowLanguageDropdown(!showLanguageDropdown);};const handleLoginClick=()=>{navigate('/login');};const handleLanguageSelect=language=>{setShowLanguageDropdown(false);alert(`Language changed to ${language}`);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-title\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"fade-in\",children:\"Trento Clean City Homepage\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"map\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-left-icons\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/128/1672/1672225.png\",alt:\"Menu\",id:\"verdeButton\",onClick:handleVerdeClick,style:{width:'40px',height:'40px'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Registrati\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-right-icons\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"icon-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/128/2014/2014826.png\",alt:\"Language\",id:\"languageIcon\",onClick:handleLanguageClick,style:{width:'40px',height:'40px'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Seleziona Lingua\"}),showLanguageDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"language-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLanguageSelect('Italiano'),children:\"Italiano\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLanguageSelect('English'),children:\"English\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"icon-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/128/1077/1077012.png\",alt:\"Login\",id:\"loginIcon\",onClick:handleLoginClick,style:{width:'40px',height:'40px'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Login\"})]})]})]});}export default Homepage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","L","markerIcon","markerIconShadow","jsx","_jsx","jsxs","_jsxs","DefaultIcon","icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","Marker","prototype","options","Homepage","navigate","showLanguageDropdown","setShowLanguageDropdown","map","setView","tileLayer","attribution","addTo","centriDiRaccolta","nome","coord","indirizzo","forEach","centro","marker","bindPopup","on","e","button","document","createElement","textContent","style","cursor","addEventListener","state","coordinates","latlng","container","appendChild","popup","setLatLng","setContent","openOn","remove","handleVerdeClick","handleLanguageClick","handleLoginClick","handleLanguageSelect","language","alert","className","children","id","src","alt","onClick","width","height"],"sources":["/root/UNIVERSITA/Webapp-comune-di-Trento/app-react/src/Homepage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './styles/Homepage.css';\n\n\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\nimport markerIconShadow from 'leaflet/dist/images/marker-shadow.png';\n\nconst DefaultIcon = L.icon({\n  iconUrl: markerIcon,\n  shadowUrl: markerIconShadow,\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\n\nL.Marker.prototype.options.icon = DefaultIcon;\n\nfunction Homepage() {\n  const navigate = useNavigate();\n  const [showLanguageDropdown, setShowLanguageDropdown] = useState(false);\n\n  useEffect(() => {\n    const map = L.map('map').setView([46.0667, 11.1333], 12);\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OpenStreetMap contributors',\n    }).addTo(map);\n\n    const centriDiRaccolta = [\n      {\n        nome: \"Argentario\",\n        coord: [46.0897, 11.1212],\n        indirizzo: \"Via Pradiscola, 22\",\n      },\n      {\n        nome: \"Mattarello\",\n        coord: [46.0023, 11.1361],\n        indirizzo: \"Via della Gotarda\",\n      },\n      {\n        nome: \"Meano\",\n        coord: [46.1112, 11.1556],\n        indirizzo: \"Via Bellaria, 44/B\",\n      },\n      {\n        nome: \"Povo\",\n        coord: [46.0605, 11.1508],\n        indirizzo: \"Via Castel di Pietrapiana, 8\",\n      },\n      {\n        nome: \"Sopramonte\",\n        coord: [46.0811, 11.0974],\n        indirizzo: \"Via Strada di Campedél\",\n      },\n    ];\n\n    centriDiRaccolta.forEach((centro) => {\n      L.marker(centro.coord)\n        .addTo(map)\n        .bindPopup(`<b>Centro di Raccolta</b><br><b>${centro.nome}</b><br>${centro.indirizzo}`);\n    });\n\n    map.on('click', function (e) {\n      const button = document.createElement('button');\n      button.textContent = 'Segnala';\n      button.style.cursor = 'pointer'; \n    \n      button.addEventListener('click', () => {\n        navigate('/segnalazionianonime', { state: { coordinates: e.latlng } });\n      });\n    \n      const container = document.createElement('div');\n      container.appendChild(button);\n    \n      L.popup()\n        .setLatLng(e.latlng)\n        .setContent(container)\n        .openOn(map);\n    });\n\n    return () => {\n      map.remove();\n    };\n  }, [navigate]);\n\n  const handleVerdeClick = () => {\n    navigate('/register');\n  };\n\n  const handleLanguageClick = () => {\n    setShowLanguageDropdown(!showLanguageDropdown);\n  };\n\n  const handleLoginClick = () => {\n    navigate('/login');\n  };\n\n  const handleLanguageSelect = (language) => {\n    setShowLanguageDropdown(false);\n    alert(`Language changed to ${language}`);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"page-title\">\n        <h1 className=\"fade-in\">Trento Clean City Homepage</h1>\n      </div>\n\n      <div id=\"map\"></div>\n\n      <div className=\"top-left-icons\">\n        <img\n          src=\"https://cdn-icons-png.flaticon.com/128/1672/1672225.png\"\n          alt=\"Menu\"\n          id=\"verdeButton\"\n          onClick={handleVerdeClick}\n          style={{ width: '40px', height: '40px' }}\n        />\n        <p>Registrati</p>\n      </div>\n\n      <div className=\"top-right-icons\">\n        <div className=\"icon-container\">\n          <img\n            src=\"https://cdn-icons-png.flaticon.com/128/2014/2014826.png\"\n            alt=\"Language\"\n            id=\"languageIcon\"\n            onClick={handleLanguageClick}\n            style={{ width: '40px', height: '40px' }}\n          />\n          <p>Seleziona Lingua</p>\n          {showLanguageDropdown && (\n            <div className=\"language-dropdown\">\n              <button onClick={() => handleLanguageSelect('Italiano')}>Italiano</button>\n              <button onClick={() => handleLanguageSelect('English')}>English</button>\n            </div>\n          )}\n        </div>\n        <div className=\"icon-container\">\n          <img\n            src=\"https://cdn-icons-png.flaticon.com/128/1077/1077012.png\"\n            alt=\"Login\"\n            id=\"loginIcon\"\n            onClick={handleLoginClick}\n            style={{ width: '40px', height: '40px' }}\n          />\n          <p>Login</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Homepage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,CAAC,KAAM,SAAS,CACvB,MAAO,0BAA0B,CACjC,MAAO,uBAAuB,CAG9B,MAAO,CAAAC,UAAU,KAAM,qCAAqC,CAC5D,MAAO,CAAAC,gBAAgB,KAAM,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErE,KAAM,CAAAC,WAAW,CAAGP,CAAC,CAACQ,IAAI,CAAC,CACzBC,OAAO,CAAER,UAAU,CACnBS,SAAS,CAAER,gBAAgB,CAC3BS,QAAQ,CAAE,CAAC,EAAE,CAAE,EAAE,CAAC,CAClBC,UAAU,CAAE,CAAC,EAAE,CAAE,EAAE,CAAC,CACpBC,WAAW,CAAE,CAAC,CAAC,CAAE,CAAC,EAAE,CAAC,CACrBC,UAAU,CAAE,CAAC,EAAE,CAAE,EAAE,CACrB,CAAC,CAAC,CAEFd,CAAC,CAACe,MAAM,CAACC,SAAS,CAACC,OAAO,CAACT,IAAI,CAAGD,WAAW,CAE7C,QAAS,CAAAW,QAAQA,CAAA,CAAG,CAClB,KAAM,CAAAC,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACqB,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CAEvED,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyB,GAAG,CAAGtB,CAAC,CAACsB,GAAG,CAAC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,OAAO,CAAE,OAAO,CAAC,CAAE,EAAE,CAAC,CAExDvB,CAAC,CAACwB,SAAS,CAAC,oDAAoD,CAAE,CAChEC,WAAW,CAAE,8BACf,CAAC,CAAC,CAACC,KAAK,CAACJ,GAAG,CAAC,CAEb,KAAM,CAAAK,gBAAgB,CAAG,CACvB,CACEC,IAAI,CAAE,YAAY,CAClBC,KAAK,CAAE,CAAC,OAAO,CAAE,OAAO,CAAC,CACzBC,SAAS,CAAE,oBACb,CAAC,CACD,CACEF,IAAI,CAAE,YAAY,CAClBC,KAAK,CAAE,CAAC,OAAO,CAAE,OAAO,CAAC,CACzBC,SAAS,CAAE,mBACb,CAAC,CACD,CACEF,IAAI,CAAE,OAAO,CACbC,KAAK,CAAE,CAAC,OAAO,CAAE,OAAO,CAAC,CACzBC,SAAS,CAAE,oBACb,CAAC,CACD,CACEF,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,CAAC,OAAO,CAAE,OAAO,CAAC,CACzBC,SAAS,CAAE,8BACb,CAAC,CACD,CACEF,IAAI,CAAE,YAAY,CAClBC,KAAK,CAAE,CAAC,OAAO,CAAE,OAAO,CAAC,CACzBC,SAAS,CAAE,wBACb,CAAC,CACF,CAEDH,gBAAgB,CAACI,OAAO,CAAEC,MAAM,EAAK,CACnChC,CAAC,CAACiC,MAAM,CAACD,MAAM,CAACH,KAAK,CAAC,CACnBH,KAAK,CAACJ,GAAG,CAAC,CACVY,SAAS,CAAC,mCAAmCF,MAAM,CAACJ,IAAI,WAAWI,MAAM,CAACF,SAAS,EAAE,CAAC,CAC3F,CAAC,CAAC,CAEFR,GAAG,CAACa,EAAE,CAAC,OAAO,CAAE,SAAUC,CAAC,CAAE,CAC3B,KAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,WAAW,CAAG,SAAS,CAC9BH,MAAM,CAACI,KAAK,CAACC,MAAM,CAAG,SAAS,CAE/BL,MAAM,CAACM,gBAAgB,CAAC,OAAO,CAAE,IAAM,CACrCxB,QAAQ,CAAC,sBAAsB,CAAE,CAAEyB,KAAK,CAAE,CAAEC,WAAW,CAAET,CAAC,CAACU,MAAO,CAAE,CAAC,CAAC,CACxE,CAAC,CAAC,CAEF,KAAM,CAAAC,SAAS,CAAGT,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAC/CQ,SAAS,CAACC,WAAW,CAACX,MAAM,CAAC,CAE7BrC,CAAC,CAACiD,KAAK,CAAC,CAAC,CACNC,SAAS,CAACd,CAAC,CAACU,MAAM,CAAC,CACnBK,UAAU,CAACJ,SAAS,CAAC,CACrBK,MAAM,CAAC9B,GAAG,CAAC,CAChB,CAAC,CAAC,CAEF,MAAO,IAAM,CACXA,GAAG,CAAC+B,MAAM,CAAC,CAAC,CACd,CAAC,CACH,CAAC,CAAE,CAAClC,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAmC,gBAAgB,CAAGA,CAAA,GAAM,CAC7BnC,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAC,CAED,KAAM,CAAAoC,mBAAmB,CAAGA,CAAA,GAAM,CAChClC,uBAAuB,CAAC,CAACD,oBAAoB,CAAC,CAChD,CAAC,CAED,KAAM,CAAAoC,gBAAgB,CAAGA,CAAA,GAAM,CAC7BrC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,KAAM,CAAAsC,oBAAoB,CAAIC,QAAQ,EAAK,CACzCrC,uBAAuB,CAAC,KAAK,CAAC,CAC9BsC,KAAK,CAAC,uBAAuBD,QAAQ,EAAE,CAAC,CAC1C,CAAC,CAED,mBACEpD,KAAA,QAAKsD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBzD,IAAA,QAAKwD,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBzD,IAAA,OAAIwD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,4BAA0B,CAAI,CAAC,CACpD,CAAC,cAENzD,IAAA,QAAK0D,EAAE,CAAC,KAAK,CAAM,CAAC,cAEpBxD,KAAA,QAAKsD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzD,IAAA,QACE2D,GAAG,CAAC,yDAAyD,CAC7DC,GAAG,CAAC,MAAM,CACVF,EAAE,CAAC,aAAa,CAChBG,OAAO,CAAEX,gBAAiB,CAC1Bb,KAAK,CAAE,CAAEyB,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAC1C,CAAC,cACF/D,IAAA,MAAAyD,QAAA,CAAG,YAAU,CAAG,CAAC,EACd,CAAC,cAENvD,KAAA,QAAKsD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BvD,KAAA,QAAKsD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzD,IAAA,QACE2D,GAAG,CAAC,yDAAyD,CAC7DC,GAAG,CAAC,UAAU,CACdF,EAAE,CAAC,cAAc,CACjBG,OAAO,CAAEV,mBAAoB,CAC7Bd,KAAK,CAAE,CAAEyB,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAC1C,CAAC,cACF/D,IAAA,MAAAyD,QAAA,CAAG,kBAAgB,CAAG,CAAC,CACtBzC,oBAAoB,eACnBd,KAAA,QAAKsD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzD,IAAA,WAAQ6D,OAAO,CAAEA,CAAA,GAAMR,oBAAoB,CAAC,UAAU,CAAE,CAAAI,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1EzD,IAAA,WAAQ6D,OAAO,CAAEA,CAAA,GAAMR,oBAAoB,CAAC,SAAS,CAAE,CAAAI,QAAA,CAAC,SAAO,CAAQ,CAAC,EACrE,CACN,EACE,CAAC,cACNvD,KAAA,QAAKsD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzD,IAAA,QACE2D,GAAG,CAAC,yDAAyD,CAC7DC,GAAG,CAAC,OAAO,CACXF,EAAE,CAAC,WAAW,CACdG,OAAO,CAAET,gBAAiB,CAC1Bf,KAAK,CAAE,CAAEyB,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAC1C,CAAC,cACF/D,IAAA,MAAAyD,QAAA,CAAG,OAAK,CAAG,CAAC,EACT,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA3C,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}